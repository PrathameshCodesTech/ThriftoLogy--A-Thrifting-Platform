{% extends 'base.html' %}
{% load static %}

{% block extra_head %}
<style>
    .checkout-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
    }

    .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: #333;
    }

    .divider {
        border-top: 1px solid #e5e7eb;
        margin: 1rem 0;
    }

    /* Order Summary Styles */
    .order-summary {
        padding-right: 2rem;
    }

    .product-card {
        background: #fff;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1rem;
    }

    .product-title {
        font-size: 1.1rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .product-details {
        color: #666;
        margin-bottom: 0.5rem;
    }

    .product-price {
        font-weight: 600;
        color: #333;
    }

    .total-cost {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 1rem 0;
    }

    .delivery-charge {
        color: #666;
        font-size: 0.9rem;
    }

    .terms {
        font-size: 0.9rem;
        color: #666;
        line-height: 1.5;
    }

    /* Address Selection Styles */
    .address-selection {
        background: #fff;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1rem;
    }

    .address-name {
        font-size: 1.1rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .address-details {
        color: #666;
        line-height: 1.5;
    }

    .radio-group {
        margin: 1rem 0;
    }

    .radio-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
    }

    /* Payment Options Styles */
    .payment-options {
        margin-top: 2rem;
    }

    .payment-button {
        width: 100%;
        padding: 1rem;
        margin-bottom: 1rem;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        transition: background-color 0.2s;
    }

    .paypal-button {
        background-color: #ffc439;
        color: #003087;
    }

    .card-button {
        background-color: #333;
        color: white;
    }

    .powered-by {
        text-align: center;
        margin-top: 1rem;
        color: #666;
        font-size: 0.9rem;
    }

    .add-address-link {
        display: inline-block;
        color: #2563eb;
        text-decoration: none;
        margin-top: 1rem;
    }

    .add-address-link:hover {
        text-decoration: underline;
    }
</style>
{% endblock %}

{% block herosection %}
<br>
<br>
<br>
<br>
<br>
<br>
<div class="checkout-container">
    <!-- Left Column - Order Summary -->
    <div class="order-summary">
        <h2 class="section-title">Order Summary</h2>
        <div class="divider"></div>

        {% for item in cart_items %}
        <div class="product-card">
            <h3 class="product-title">Product: {{item.product.brand}}</h3>
            <p class="product-details">Quantity: {{item.quantity}}</p>
            <p class="product-price">Price: {{item.total_cost}}</p>
        </div>
        {% endfor %}

        <p class="total-cost">Total Cost + Rs. 70 = {{total_amount}}</p>
        <p class="delivery-charge">(Rs. 70 Delivery Charge)</p>
        <div class="divider"></div>
        <p class="terms">Term and Condition: Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia, ullam saepe! Iure optio repellat dolor velit, minus rem.</p>
    </div>

    <!-- Right Column - Address Selection -->
    <div class="shipping-section">
        <h2 class="section-title">Select Shipping Address</h2>
        <div class="divider"></div>

        <form action="/paymentdone" id="myform">
            {% for ad in add %}
            <div class="address-selection">
                <h3 class="address-name">{{ad.name}}</h3>
                <p class="address-details">{{ad.locality}}, {{ad.city}}, {{ad.state}}- {{ad.zipcode}}</p>
                
                <div class="radio-group">
                    <label class="radio-label" for="custadd{{forloop.counter}}">
                        <input type="radio" name="custid" id="custadd{{forloop.counter}}" 
                               value="{{ad.id}}" {% if forloop.first %}checked{% endif %}>
                        <span>Address: {{ forloop.counter }}</span>
                    </label>
                </div>
            </div>
            {% endfor %}

            <div class="payment-options">
                <h3 class="section-title">Payment Options:</h3>
                <button type="button" class="payment-button paypal-button">
                    PayPal
                </button>
                <button type="button" class="payment-button card-button">
                    Debit or Credit Card
                </button>
                <p class="powered-by">Powered by PayPal</p>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block product-grid %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/clothesGallery.js' %}"></script>
{% endblock %}